<!doctype html><html lang=cn dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta name=theme-color content="#000" media="(prefers-color-scheme: light)"><meta name=theme-color content="#000" media="(prefers-color-scheme: dark)"><meta http-equiv=content-language content="cn"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Objective-C &#183; a half fish</title><meta name=title content="Objective-C &#183; a half fish"><meta name=description content="记录生活～"><link rel=canonical href=/oc/><link rel=alternate type=application/rss+xml href=/oc/index.xml title="a half fish"><link type=text/css rel=stylesheet href=/css/main.bundle.min.3d2ce97f8346811ffffbe84f791f536745ae2104ab55962e769e466bdb26f590bc50b647684719e30b82155a8458f36ba3318c7d646d028b88c0c29f78b14859.css integrity="sha512-PSzpf4NGgR//++hPeR9TZ0WuIQSrVZYudp5Ga9sm9ZC8ULZHaEcZ4wuCFVqEWPNrozGMfWRtAouIwMKfeLFIWQ=="><script type=text/javascript src=/js/main.min.cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e.js integrity="sha512-z4PhNX7vuL3xVChQ1m2AB9Yg5AULVxXcg/SpIdNs6c5H0NE8XYXysP+DGNKHfuwvY7kxvUdBeoGlODJ6+SfaPg=="></script>
<script type=text/javascript src=/js/appearance.min.f94f4c4636d9e3ec8f5ee53cdc8ffa3d01bf87cd92ac85e6797550b1e2b80dc9118d838f3eb24c55109352455e72ff082dfe560283154e5a8f87fd75107b59c4.js integrity="sha512-+U9MRjbZ4+yPXuU83I/6PQG/h82SrIXmeXVQseK4DckRjYOPPrJMVRCTUkVecv8ILf5WAoMVTlqPh/11EHtZxA=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.911bd9741247c092f3a38757ca26b07e6bf319209e5162bbc5a609bae50fa2ea13b3c09f8f2c3d1cfd66c0b6885f0b2137bb43fee6404db177d90abde3c09547.js integrity="sha512-kRvZdBJHwJLzo4dXyiawfmvzGSCeUWK7xaYJuuUPouoTs8Cfjyw9HP1mwLaIXwshN7tD/uZATbF32Qq948CVRw==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="Objective-C"><meta property="og:description" content="记录生活～"><meta property="og:type" content="website"><meta property="og:url" content="/oc/"><meta property="og:site_name" content="a half fish"><meta name=twitter:card content="summary"><meta name=twitter:title content="Objective-C"><meta name=twitter:description content="记录生活～"><meta name=author content="a half fish"><link href=https://github.com/WUYUEZONG rel=me><script async src="https://www.googletagmanager.com/gtag/js?id=G-H6WB2ZNB2J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H6WB2ZNB2J",{anonymize_ip:!1})}</script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js></script>
<script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js></script>
<script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js></script>
<script>const firebaseConfig={apiKey:"AIzaSyCQdYYJsqfcjy2_NypuCRgOJczG9RDZy7A",authDomain:"AIzaSyCQdYYJsqfcjy2_NypuCRgOJczG9RDZy7A",projectId:"homepage-f82a2",storageBucket:"homepage-f82a2.appspot.com",messagingSenderId:"574711004803",appId:"1:574711004803:web:c313a1a151521a33c4a5b6",measurementId:"G-H6WB2ZNB2J"};var app=firebase.initializeApp(firebaseConfig),db=firebase.firestore(),auth=firebase.auth()</script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div style=padding-left:0;padding-right:0 class="flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3" id=nav-title-wyz><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">a half fish</a></nav><div class="hidden md:flex items-center space-x-5 md:ml-12"><a href=/about/ class="text-base font-medium text-gray-500 hover:text-gray-900" title=关于><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg></span></a></div><div class="flex md:hidden items-center space-x-5 md:ml-12"><span></span></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:25px class="fixed inset-0 z-30 invisible w-screen h-screen m-auto overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex movedown flex-col w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl sm:px-14 md:px-24 lg:px-32 sm:py-10 sm:pt-10"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mb-1><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/about/ title=关于><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 0C114.6.0.0 114.6.0 256s114.6 256 256 256 256-114.6 256-256S397.4.0 256 0zm0 128c17.67.0 32 14.33 32 32 0 17.67-14.33 32-32 32s-32-14.3-32-32 14.3-32 32-32zm40 256h-80c-13.2.0-24-10.7-24-24s10.75-24 24-24h16v-64h-8c-13.25.0-24-10.75-24-24s10.8-24 24-24h32c13.25.0 24 10.75 24 24v88h16c13.25.0 24 10.75 24 24s-10.7 24-24 24z"/></svg></span></span></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><header><h1 class="mt-5 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Objective-C</h1><div class="mt-1 mb-2 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"></div></div></header><section class="mt-0 prose flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-prose"></div><script>var liked_article=!1,oid,id,viewed,oid_likes,id_likes,liked;typeof auth!="undefined"&&(oid="views_oc/_index.md",id=oid&&oid.replaceAll("/","-"),viewed=localStorage.getItem(id),viewed||auth.signInAnonymously().then(()=>{var e=db.collection("views").doc(id);localStorage.setItem(id,!0),e.get().then(e=>{e.exists?db.collection("views").doc(id).update({views:firebase.firestore.FieldValue.increment(1)}):db.collection("views").doc(id).set({views:1})}).catch(e=>{console.log("Error getting document:",e)})}).catch(e=>{var t=e.code,n=e.message;console.error(t,n)}),oid_likes="likes_oc/_index.md",id_likes=oid_likes&&oid_likes.replaceAll("/","-"),liked=localStorage.getItem(id_likes),liked&&(liked_article=!0,document.querySelectorAll("span[id='likes_button_heart']")[0].style.display="",document.querySelectorAll("span[id='likes_button_emtpty_heart']")[0].style.display="none",document.querySelectorAll("span[id='likes_button_text']")[0].innerText=""));function like_article(e){auth.signInAnonymously().then(()=>{var t=db.collection("likes").doc(e);t.get().then(t=>{liked_article=!0,localStorage.setItem(e,!0),document.querySelectorAll("span[id='likes_button_heart']")[0].style.display="",document.querySelectorAll("span[id='likes_button_emtpty_heart']")[0].style.display="none",document.querySelectorAll("span[id='likes_button_text']")[0].innerText="",t.exists?db.collection("likes").doc(e).update({likes:firebase.firestore.FieldValue.increment(1)}):db.collection("likes").doc(e).set({likes:1})}).catch(e=>{console.log("Error getting document:",e)})}).catch(e=>{var t=e.code,n=e.message;console.error(t,n)})}function remove_like_article(e){auth.signInAnonymously().then(()=>{var t=db.collection("likes").doc(e);t.get().then(t=>{liked_article=!1,localStorage.removeItem(e),document.querySelectorAll("span[id='likes_button_heart']")[0].style.display="none",document.querySelectorAll("span[id='likes_button_emtpty_heart']")[0].style.display="",document.querySelectorAll("span[id='likes_button_text']")[0].innerText="\xa0Like",t.exists?db.collection("likes").doc(e).update({likes:firebase.firestore.FieldValue.increment(-1)}):db.collection("likes").doc(e).set({likes:0})}).catch(e=>{console.log("Error getting document:",e)})}).catch(e=>{var t=e.code,n=e.message;console.error(t,n)})}function process_article(){var e="likes_oc/_index.md",t=e&&e.replaceAll("/","-");liked_article?remove_like_article(t):like_article(t)}</script></section><section class="space-y-10 w-full"><h2 class="mt-12 text-2xl font-bold text-neutral-700 first:mt-8 dark:text-neutral-300">2022</h2><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/togged-pointer/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/togged-pointer/>Togged Pointer</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:17:51 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">对 <code>NSNumber、NSString、NSDate</code> 优化。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/keywords/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/keywords/>Keywords</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:16:52 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/strong/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">STRONG</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/weak/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">WEAK</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/copy/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Copy</span></span></span></div></div><div class="py-1 prose dark:prose-invert">Automatic Reference Counting(ARC)技术是用于OC对象的内存管理。即在适当的时候对OC对象retain和release操作。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/runtime/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/runtime/>Runtime</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:12:53 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>6 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/runtime/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Runtime</span></span></span></div></div><div class="py-1 prose dark:prose-invert">Runtime</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/runloop/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/runloop/>Runloop</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:12:19 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>4 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/runloop/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Runloop</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert"><code>RunLoop</code>可以简单理解为，让程序保持运行的一个<code>while</code>循环，这个循环内监听各种事件（如触摸事件、<code>performSelector</code>、定时器<code>NSTimer</code>等），没有事件的时候睡眠，从而有效的利用CPU（只有在有事件的时候才用CPU，没事件的时候睡眠）</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/objc-instance/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/objc-instance/>Objc Instance</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:10:35 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/objc-instance/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Objc Instance</span></span></span></div></div><div class="py-1 prose dark:prose-invert">实例对象、类对象、元类对象（Instance Class Meta-Class）</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/objc/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/objc/>Objective-C的本质</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:09:26 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/objc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Objc</span></span></span></div></div><div class="py-1 prose dark:prose-invert">Objective-C底层实现其实都是C、C++代码，Objective-C的面向对象都是基于C、C++的数据结构实现的，Objective-C的对象、类主要是基于C、C++的结构体实现的。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/kvo/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/kvo/>KVO (Key-Value Observing)</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:08:48 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/kvo/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">KVO</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">KVO是利用runtime的特性动态生成观察对象类的子类，然后重写被观察对象的属性的set方法。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/kvc/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/kvc/>KVC (Key-Value Coding)</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:08:03 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/kvc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">KVC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">使用KVC，不管是修改成员变量还是属性的值都会触发KVO。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/isa/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/isa/>Isa</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:07:25 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/isa/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">ISA</span></span></span></div></div><div class="py-1 prose dark:prose-invert">isa相当于oc对象中的id，oc是调用方法是通过objc_msgSend(,)消息机制，它要通过isa找到对应的属性、方法、协议等。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/copy-mutablecopy/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/copy-mutablecopy/>Copy & MutableCopy</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 16:06:23 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/copy/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Copy</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/mutablecopy/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">MutableCopy</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">Copy & MutableCopy / 浅拷贝和深拷贝的解释</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/category/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/category/>Category</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-11-14 14:48:46 +0800 +0800">2022-11-14</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/category/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Category</span></span></span></div></div><div class="py-1 prose dark:prose-invert">所以定义在分类中的属性、对象方法、类方法、协议等数据会被编译成和 <code>class</code> 对象中一样的数据类型，只使用了新的变量存储。在 <code>runtime</code>时，分类中的数据（属性、方法、协议）会被合并到原来的类、元类中。所以对象调用分类中的数据（属性、方法、协议）理论上是和调用类中的方法是一致的（<code>isa</code>）。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/data-store/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/data-store/>数据持久化、缓存</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/cache/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Cache</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/data-storage/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Data Storage</span></span></span></div></div><div class="py-1 prose dark:prose-invert">首先了解以下应用沙盒文件夹，了解每个文件夹的具体作用，就能更方便于我们如何存储应用生成的数据。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/uiviewcontroller-life-cycle/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/uiviewcontroller-life-cycle/>探究UIViewController生命周期</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">探究UIViewController生命周期</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/performance-optimization/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/performance-optimization/>性能优化</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">iOS的性能优化</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/nstimer/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/nstimer/>定时器</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>2 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/nstimer/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">NSTimer</span></span></span></div></div><div class="py-1 prose dark:prose-invert">NSTimer、CADisplayLink定时器</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/ipa/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/ipa/>安装包瘦身</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/ipa/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">IPA</span></span></span></div></div><div class="py-1 prose dark:prose-invert">安装包瘦身</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/block/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/block/>Block</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>4 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/block/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Block</span></span></span></div></div><div class="py-1 prose dark:prose-invert"><code>block</code>本质上也是一个OC对象，它内部也有个<code>isa指针</code>，<code>block</code>是封装了函数调用以及函数调用环境的OC对象。</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/autorelease-pool/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/autorelease-pool/>AutoreleasePool</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/autoreleasepool/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">AutoreleasePool</span></span></span></div></div><div class="py-1 prose dark:prose-invert">自动释放池的原理与使用</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/association-object/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/association-object/>AssociationObject</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/associationobject/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">AssociationObject</span></span></span></div></div><div class="py-1 prose dark:prose-invert">关联对象的原理与使用</div></div></a><a class="flex flex-wrap article border border-neutral-200 dark:border-neutral-700 border-2 rounded-md" href=/oc/load/><div class=p-4><div class="items-center text-xl font-semibold"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/oc/load/>+load</div></div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-06-30 00:00:00 +0000 UTC">2022-06-30</time><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/oc/")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">OC</span></span></span></div></div><div class="py-1 prose dark:prose-invert">+load是runtime加载类、分类时调用（只会调用1次）+load是根据函数地址直接调用的。</div></div></a></section><ul class="flex flex-row mt-8"><li><a href=/oc/ class="bg-primary-200 dark:bg-primary-400 dark:text-neutral-800
mx-1 block min-w-[1.8rem] rounded text-center hover:bg-primary-600 hover:text-neutral">1</a></li><li><a href=/oc/page/2/ class="mx-1 block min-w-[1.8rem] rounded text-center hover:bg-primary-600 hover:text-neutral">2</a></li><li><a href=/oc/page/2/ class="mx-1 block min-w-[1.8rem] rounded text-center hover:bg-primary-600 hover:text-neutral" rel=next>&rarr;</a></li></ul></main><footer class="py-10 print:hidden"><nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>标签</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/posts/ title=Posts>博客</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/works/ title=Works>工作</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/study/ title=学习>学习</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400" id=copy-right-author>&copy;
2022
a half fish</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://nunocoracao.github.io/blowfish/ target=_blank rel="noopener noreferrer">Blowfish</a> 强力驱动</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.2166d3adac1679c00a75161830ab5725d3efc0e3d3f8c2453fb01d0907948436c25f0f8a7ad824322fa22f3f9c85fd4d0a1d5c856f53b862157da25a57dc3d52.js integrity="sha512-IWbTrawWecAKdRYYMKtXJdPvwOPT+MJFP7AdCQeUhDbCXw+KetgkMi+iLz+chf1NCh1chW9TuGIVfaJaV9w9Ug=="></script></footer></div></body></html>